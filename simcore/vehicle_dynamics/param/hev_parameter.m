% gear ratio from engine to regenerator motor
ReGen_Motor_GearRatio = 0.8;  

% engine clutch time const
Engine_Clutch_TimeConst = 0.2;

% -------------------------------------------------------------------
%  Generated by MATLAB on 20-Jul-2023 16:22:18
%  MATLAB version: 9.13.0.2105380 (R2022b) Update 2
% -------------------------------------------------------------------
                              

BrakeEnableThresh = 1E-2;

DefaultChrgPwr = 3300;

% pwr vs speed
EngOptimal_Pwr_KW = [0 0 5 7 10 14 20 27 35 44 54 65 77];

EngOptimal_Speed_RPM = [0 400 800 1200 1600 2000 2400 2800 ...
                        3200 3600 4000 5000 6000];

% speed vs pwr
Inverse_EngOptimal_Speed_RPM = [400 1100 1600 2200 2600 3000 3200 3400 ...
                        3600 3800 4000];

Inverse_EngOptimal_Pwr_KW = [0 11 22 33 44 55 66 77 88 99 110];

EngineStepInSpeed_kph = 65;

FrontMotor_MaxTorque = [380.64 380.64 380.64 354.6446 290.18 253.8265 240.3134 ...
                        203.8175 176.5011 155.4483 138.7867 0 0];

FrontMotor_Speed_rads = [0 174.567828 349.0309379 523.5987667 698.1665955 ...
                         819.6415093 872.6297045 1047.197533 1221.765362 ...
                         1396.228471 1570.7963 1649.336115 2356.19445];

HEV_4WD_FrontPwrRatio = 0.5;

MaxChrgPwr = 50000;

MaxPwrOfSystem = 180000;

MaxReGenPwr = 10000;

MinSocDriveVehicle = 10;

P4_Motor_MaxTorque = [380.64 380.64 380.64 354.6446 290.18 253.8265 240.3134 ...
                      203.8175 176.5011 155.4483 138.7867 0 0];

P4_Motor_Speed_rads = [0 174.567828 349.0309379 523.5987667 698.1665955 ...
                       819.6415093 872.6297045 1047.197533 1221.765362 ...
                       1396.228471 1570.7963 1649.336115 2356.19445];

PwrDmnd_EV_Only = 13000;

PwrDmnd_Hybrid = 23000;

ReGen_Motor_MaxTorque = [380.64 380.64 380.64 354.6446 290.18 253.8265 ...
                         240.3134 203.8175 176.5011 155.4483 138.7867 0 ...
                         0]*0.5;

ReGen_Motor_Speed_rads = [0 174.567828 349.0309379 523.5987667 698.1665955 ...
                          819.6415093 872.6297045 1047.197533 1221.765362 ...
                          1396.228471 1570.7963 1649.336115 2356.19445];

StartChargingSoc = 25;

T_EngStepIn = 0.1;

TargetSoc = 70;

ThrottleDisableThresh = 1E-2;

Ts = 0.001;

VXLOW_ReGen = 10;

% HEV PID
hcu_acc_P = 0.1;
hcu_acc_I = 0.01;
hcu_acc_D = 0.0;

% HEV duration check
HEV_Mode_Duration = 0.5;
front_diff_ratio = 3.1739;
front_motor_ratio = 3.7;
total_torque_throttle_bpt =[0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1];
total_torque_speed_bpt =[0 7 10 20 30 40 54 60 80 100 120 135 150 165];
total_torque_data = [0	330	600	730	900	1138	1368	1698	2028	2609	3190
0	300	490	570	780	1087	1355	1693	2030	2610	3190
-16	220	420	507	714	1018	1349	1691	2032	2611	3190
-50	73	218	355	564	897	1219	1541	1884	2527	3190
-50	45	144	269	410	749	1034	1368	1752	2396	3190
-50	21	110	219	348	635	889	1193	1547	2294	3190
-60	1	78	153	253	523	752	981	1311	2200	3190
-60	-2	68	136	226	484	707	928	1252	2020	2887
-60	-4	52	108	165	370	575	800	1035	1575	2165
-60	9	53	98	142	241	444	647	849	1291	1732
-60	14	55	96	137	168	314	525	736	1111	1486
-60	19	59	100	140	159	276	443	703	1058	1403
-60	19	59	100	141	176	277	417	667	1018	1338
-60	20	59	99	138	195	281	396	651	984	1280];
